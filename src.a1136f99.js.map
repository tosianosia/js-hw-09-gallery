{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","_galleryItems","_interopRequireDefault","require","obj","__esModule","default","console","log","galleryItems","refs","galleryContainer","document","querySelector","lightboxContainer","lightboxOverlay","lightboxImageEl","closeLightboxBtnEl","imagesSrcArray","createGalleryItemsMarkup","items","map","_ref","concat","join","onGalleryContainerClick","evt","target","nodeName","preventDefault","lightboxImageSrc","dataset","source","lightboxImageDescr","alt","src","onOpenModal","image","window","addEventListener","onKeyPress","classList","add","onCloseModal","removeEventListener","remove","code","onLeftKeyPress","onRightKeyPress","indexOfCurrentImg","indexOf","length","innerHTML"],"mappings":";AAgEC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAhEc,IAAA,EAAA,QAAA,QAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa;;ACqCjB,aAnGA,IAAAC,EAAAC,EAAAC,QAAA,uBAA8C,SAAAD,EAAAE,GAAAA,OAAAA,GAAAA,EAAAC,WAAAD,EAAAE,CAAAA,QAAAF,GAE9CG,QAAQC,IAAIC,EAAY,SAExB,IAAMC,EAAO,CACXC,iBAAkBC,SAASC,cAAc,eACzCC,kBAAmBF,SAASC,cAAc,gBAC1CE,gBAAiBH,SAASC,cAAc,oBACxCG,gBAAiBJ,SAASC,cAAc,oBACxCI,mBAAoBL,SAASC,cAAc,mCAEzCK,EAAiB,GAQrB,SAASC,EAAyBC,GAChC,OAAOA,EACJC,IAAI,SAAAC,GAAwC,IAArCxB,EAAOwB,EAAPxB,QAASC,EAAQuB,EAARvB,SAAUC,EAAWsB,EAAXtB,YACzB,MAAAuB,4FAAAA,OAIUxB,EAAQwB,+EAAAA,OAIPzB,EAAOyB,8BAAAA,OACCxB,EAAQwB,sBAAAA,OAChBvB,EAAW,gDAMvBwB,KAAK,IAGV,SAASC,EAAwBC,GAC/B,GAA4B,QAAxBA,EAAIC,OAAOC,SAAf,CAIAF,EAAIG,iBACJ,IAAMC,EAAmBJ,EAAIC,OAAOI,QAAQC,OACtCC,EAAqBP,EAAIC,OAAOO,IAEtCxB,EAAKM,gBAAgBmB,IAAML,EAC3BpB,EAAKM,gBAAgBkB,IAAMD,EAC3BG,IACAlB,EAAiBT,EAAY,QAACY,IAAI,SAAAgB,GAAK,OAAIA,EAAMtC,YAGnD,SAASqC,IACPE,OAAOC,iBAAiB,UAAWC,GACnC9B,EAAKI,kBAAkB2B,UAAUC,IAAI,WAGvC,SAASC,IACPL,OAAOM,oBAAoB,UAAWJ,GACtC9B,EAAKI,kBAAkB2B,UAAUI,OAAO,WAExCnC,EAAKM,gBAAgBmB,IAAM,GAC3BzB,EAAKM,gBAAgBkB,IAAM,GAG7B,SAASM,EAAWd,GACG,WAIjBA,EAAIoB,KACNH,IAJoB,cAKXjB,EAAIoB,KACbC,IALqB,eAMZrB,EAAIoB,MACbE,IAIJ,SAASD,IACP,IAAME,EAAoB/B,EAAegC,QAAQxC,EAAKM,gBAAgBmB,KAEtEzB,EAAKM,gBAAgBmB,IACG,IAAtBc,EACI/B,EAAeA,EAAeiC,OAAS,GACvCjC,EAAe+B,EAAoB,GAG3C,SAASD,IACP,IAAMC,EAAoB/B,EAAegC,QAAQxC,EAAKM,gBAAgBmB,KAEtEzB,EAAKM,gBAAgBmB,IACnBc,IAAsB/B,EAAeiC,OAAS,EAC1CjC,EAAe,GACfA,EAAe+B,EAAoB,GArF3CvC,EAAKC,iBAAiByC,UAAYjC,EAAyBV,EAAY,SAEvEC,EAAKC,iBAAiB4B,iBAAiB,QAASd,GAChDf,EAAKK,gBAAgBwB,iBAAiB,QAASI,GAC/CjC,EAAKO,mBAAmBsB,iBAAiB,QAASI","file":"src.a1136f99.js","sourceRoot":"..\\src","sourcesContent":["export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","import galleryItems from './js/gallery-items';\r\n\r\nconsole.log(galleryItems);\r\n\r\nconst refs = {\r\n  galleryContainer: document.querySelector('.js-gallery'),\r\n  lightboxContainer: document.querySelector('.js-lightbox'),\r\n  lightboxOverlay: document.querySelector('.js-lightbox div'),\r\n  lightboxImageEl: document.querySelector('.js-lightbox img'),\r\n  closeLightboxBtnEl: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n};\r\nlet imagesSrcArray = [];\r\n\r\nrefs.galleryContainer.innerHTML = createGalleryItemsMarkup(galleryItems);\r\n\r\nrefs.galleryContainer.addEventListener('click', onGalleryContainerClick);\r\nrefs.lightboxOverlay.addEventListener('click', onCloseModal);\r\nrefs.closeLightboxBtnEl.addEventListener('click', onCloseModal);\r\n\r\nfunction createGalleryItemsMarkup(items) {\r\n  return items\r\n    .map(({ preview, original, description }) => {\r\n      return `\r\n    <li class=\"gallery__item\">\r\n      <a\r\n        class=\"gallery__link\"\r\n        href=\"${original}\"\r\n      >\r\n        <img\r\n          class=\"gallery__image\"\r\n          src=\"${preview}\"\r\n          data-source=\"${original}\"\r\n          alt=\"${description}\"\r\n        />\r\n      </a>\r\n    </li>\r\n    `;\r\n    })\r\n    .join('');\r\n}\r\n\r\nfunction onGalleryContainerClick(evt) {\r\n  if (evt.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n\r\n  evt.preventDefault();\r\n  const lightboxImageSrc = evt.target.dataset.source;\r\n  const lightboxImageDescr = evt.target.alt;\r\n\r\n  refs.lightboxImageEl.src = lightboxImageSrc;\r\n  refs.lightboxImageEl.alt = lightboxImageDescr;\r\n  onOpenModal();\r\n  imagesSrcArray = galleryItems.map(image => image.original);\r\n}\r\n\r\nfunction onOpenModal() {\r\n  window.addEventListener('keydown', onKeyPress);\r\n  refs.lightboxContainer.classList.add('is-open');\r\n}\r\n\r\nfunction onCloseModal() {\r\n  window.removeEventListener('keydown', onKeyPress);\r\n  refs.lightboxContainer.classList.remove('is-open');\r\n\r\n  refs.lightboxImageEl.src = '';\r\n  refs.lightboxImageEl.alt = '';\r\n}\r\n\r\nfunction onKeyPress(evt) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  const LEFT_KEY_CODE = 'ArrowLeft';\r\n  const RIGHT_KEY_CODE = 'ArrowRight';\r\n\r\n  if (evt.code === ESC_KEY_CODE) {\r\n    onCloseModal();\r\n  } else if (evt.code === LEFT_KEY_CODE) {\r\n    onLeftKeyPress();\r\n  } else if (evt.code === RIGHT_KEY_CODE) {\r\n    onRightKeyPress();\r\n  }\r\n}\r\n\r\nfunction onLeftKeyPress() {\r\n  const indexOfCurrentImg = imagesSrcArray.indexOf(refs.lightboxImageEl.src);\r\n\r\n  refs.lightboxImageEl.src =\r\n    indexOfCurrentImg === 0\r\n      ? imagesSrcArray[imagesSrcArray.length - 1]\r\n      : imagesSrcArray[indexOfCurrentImg - 1];\r\n}\r\n\r\nfunction onRightKeyPress() {\r\n  const indexOfCurrentImg = imagesSrcArray.indexOf(refs.lightboxImageEl.src);\r\n\r\n  refs.lightboxImageEl.src =\r\n    indexOfCurrentImg === imagesSrcArray.length - 1\r\n      ? imagesSrcArray[0]\r\n      : imagesSrcArray[indexOfCurrentImg + 1];\r\n}\r\n"]}